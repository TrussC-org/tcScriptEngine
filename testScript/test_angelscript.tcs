// AngelScript Test for TrussSketch
float time = 0.0f;

void setup() {
    logNotice("AngelScript setup() called!");
}

void draw() {
    time = time + getDeltaTime();

    clear(0.1f);

    // Test basic shapes
    setColor(1.0f, 0.5f, 0.2f);
    drawCircle(200.0f, 200.0f, 50.0f + sin(time * 2.0f) * 20.0f);

    // Test stroke with C++ style enums
    setStrokeWeight(5.0f);
    setStrokeCap(StrokeCap::Round);
    setStrokeJoin(StrokeJoin::Round);

    setColor(0.2f, 0.8f, 0.5f);
    beginStroke();
    vertex(100.0f, 300.0f);
    vertex(200.0f, 250.0f);
    vertex(300.0f, 300.0f);
    vertex(400.0f, 250.0f);
    endStroke();

    // Test transform
    pushMatrix();
    translate(400.0f, 200.0f);
    rotate(time);
    setColor(0.8f, 0.3f, 0.9f);
    drawRect(-30.0f, -30.0f, 60.0f, 60.0f);
    popMatrix();

    // Test math
    float x = map(sin(time), -1.0f, 1.0f, 100.0f, 500.0f);
    setColor(1.0f, 1.0f, 1.0f);
    drawCircle(x, 400.0f, 20.0f);
}
